<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tight Binding · DFWannier.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://louisponet.github.io/DFWannier.jl/stable/tight_binding/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DFWannier.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Tight Binding</a><ul class="internal"><li><a class="tocitem" href="#Reciprocal"><span>Reciprocal</span></a></li></ul></li><li><a class="tocitem" href="../exchanges/">Exchanges</a></li><li><a class="tocitem" href="../berry/">Berry</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tight Binding</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tight Binding</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/louisponet/DFWannier.jl/blob/master/docs/src/tight_binding.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tight-Binding"><a class="docs-heading-anchor" href="#Tight-Binding">Tight Binding</a><a id="Tight-Binding-1"></a><a class="docs-heading-anchor-permalink" href="#Tight-Binding" title="Permalink"></a></h1><p>Various tight binding operators can be generated using the outputs of Wannier90.</p><article class="docstring"><header><a class="docstring-binding" id="DFWannier.TBBlock" href="#DFWannier.TBBlock"><code>DFWannier.TBBlock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TBBlock</code></pre><p>Building block for <a href="#DFWannier.TBOperator"><code>TBOperator</code></a>. It holds the matrix elements of the operator between central and a shifted unit cell. Upon construction, the wigner-seitz shifts are taken into account to create the correct matrix elements between the Wannierfunctions, stored in <code>tb_block</code>. The <code>block</code> field is basically <code>tb_block</code> but with each element divided by the amount of Wigner-Seitz degeneracies and shifts which speeds up later <em>k</em>-point interpolation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/tight_binding.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DFWannier.TBOperator" href="#DFWannier.TBOperator"><code>DFWannier.TBOperator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TBOperator</code></pre><p>Alias for a <code>Vector</code> of <a href="#DFWannier.TBBlock"><code>TBBlocks</code></a>. Indexing with <code>NTuple{3,Int}</code> or <code>Vec3</code> is supported which allows for easily retrieving the <a href="#DFWannier.TBBlock"><code>TBBlock</code></a> that corresponds to the shifted unit cell. Aliases: <code>TBHamiltonian</code>, <code>TBSpin</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/tight_binding.jl#L17-L24">source</a></section></article><p>The following functions can be used to generate specific operators.</p><article class="docstring"><header><a class="docstring-binding" id="DFWannier.read_hamiltonian" href="#DFWannier.read_hamiltonian"><code>DFWannier.read_hamiltonian</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_hamiltonian(chk::NamedTuple, eigvals::Matrix)</code></pre><p>Uses the Wannier90 chkpoint info in <code>chk</code> and DFT <code>eigenvals</code> read with [<code>read_eig</code>] to construct the <a href="#DFWannier.TBOperator"><code>TBHamiltonian</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/fileio.jl#L242-L246">source</a></section><section><div><pre><code class="nohighlight hljs">read_hamiltonian(job::Job)</code></pre><p>Goes through the job and will attempt to read the hamiltonian files. If it finds a colinear calculation in the job it will read the up and down hamiltonians, if the job was either nonmagnetic or noncolinear it will read only one hamiltonian file (there should be only one).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/fileio.jl#L299-L305">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DFWannier.read_spin" href="#DFWannier.read_spin"><code>DFWannier.read_spin</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_spin(chk_file, spn_file)
read_spin(job::Job)</code></pre><p>Reads the .spn and .chk files to generate a <a href="#DFWannier.TBOperator"><code>TBSpin</code></a> tight-binding spin operator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/fileio.jl#L573-L578">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DFWannier.read_r" href="#DFWannier.read_r"><code>DFWannier.read_r</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_r(chk_file::AbstractString, nnkp_file::AbstractString)
read_r(job::Job)</code></pre><p>Constructs the <em>r</em> [<code>TBOperator</code>] from the Wannier90 .chk and .nnkp files. This requires that the <code>k_neighbor_weights</code> is written into the .chk file and might need a patched Wannier90 version.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/fileio.jl#L665-L672">source</a></section></article><h2 id="Reciprocal"><a class="docs-heading-anchor" href="#Reciprocal">Reciprocal</a><a id="Reciprocal-1"></a><a class="docs-heading-anchor-permalink" href="#Reciprocal" title="Permalink"></a></h2><p>The tight binding operators can be used to interpolate properties in reciprocal space.</p><article class="docstring"><header><a class="docstring-binding" id="DFWannier.Hk" href="#DFWannier.Hk"><code>DFWannier.Hk</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Hk(hamiltonian::TBHamiltonian, kpoint::Vec3)
Hk!(hk::AbstractMatrix, hamiltonian::TBHamiltonian, kpoint::Vec3)</code></pre><p>Constructs the reciprocal Hamiltonian at a given <em>k</em>-point.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/reciprocal.jl#L182-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DFWannier.HamiltonianKGrid" href="#DFWannier.HamiltonianKGrid"><code>DFWannier.HamiltonianKGrid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HamiltonianKGrid(hami::TBHamiltonian{T}, nk, H_function_k::Function = x -&gt; nothing) where T
HamiltonianKGrid(hami::TBHamiltonian{T}, k_grid, H_function_k::Function = x -&gt; nothing) where T</code></pre><p>Takes a k grid, calculates Hk for each of them and diagonalizes. Only the eigenvectors and eigenvalues of Hk are stored, the <code>H_function_k</code> function is called on the intermediate Hk. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/reciprocal.jl#L145-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DFWannier.WannierBand" href="#DFWannier.WannierBand"><code>DFWannier.WannierBand</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">WannierBand</code></pre><p>Represents a Wannier interpolated band. See also <a href="#DFWannier.wannierbands"><code>wannierbands</code></a>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/reciprocal.jl#L208-L212">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DFWannier.wannierbands" href="#DFWannier.wannierbands"><code>DFWannier.wannierbands</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">wannierbands(hamiltonian::TBHamiltonian, kpoints::Vector{Vec3})
wannierbands(hamiltonian::TBHamiltonian, bands::Vector{DFControl.AbstractBand}</code></pre><p>Constructs the whole bandstructure for a given set of <em>k</em>-points and <a href="#DFWannier.TBOperator"><code>TBHamiltonian</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/louisponet/DFWannier.jl/blob/41a262fa2b0d95381ef1f74063e7d2f3fe462812/src/reciprocal.jl#L221-L226">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../exchanges/">Exchanges »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Saturday 24 September 2022 15:17">Saturday 24 September 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
